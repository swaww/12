<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Swaw CMD Emulator</title>
  <style>
    body {
      background: black;
      color: #00FF00;
      font-family: monospace;
      white-space: pre;
      margin: 0;
      padding: 20px;
      overflow-x: hidden;
    }
    #terminal {
      outline: none;
    }
    .input-line {
      display: inline;
    }
    .error {
      color: #8888FF;
      margin-top: 0;
    }
    input {
      background: black;
      color: #00FF00;
      border: none;
      font-family: monospace;
      font-size: 16px;
      outline: none;
    }
  </style>
</head>
<body>
  <div id="terminal">
    ███████╗██╗    ██╗ █████╗ ██╗    ██╗
    ██╔════╝██║    ██║██╔══██╗██║    ██║
    ███████╗██║ █╗ ██║███████║██║ █╗ ██║
    ╚════██║██║███╗██║██╔══██║██║███╗██║
    ███████║╚███╔███╔╝██║  ██║╚███╔███╔╝
    ╚══════╝ ╚══╝╚══╝ ╚═╝  ╚═╝ ╚══╝╚══╝

    ┌──(swaw㉿hostname)-[~/directory]
    └─> 
  </div>
  <div id="login">
    Username: <input type="text" id="username"><br>
    Password: <input type="password" id="password">
    <div id="err" class="error"></div>
  </div>

  <script>
    const user="swaw", pass="1313";
    const term=document.getElementById("terminal");
    const loginDiv=document.getElementById("login");
    const errDiv=document.getElementById("err");
    document.getElementById("password").addEventListener("keydown", e => {
      if(e.key==="Enter"){
        let u=document.getElementById("username").value;
        let p=document.getElementById("password").value;
        if(u===user && p===pass){
          loginDiv.remove();
          startSession();
        } else {
          errDiv.textContent="Access Denied. Try again.";
        }
      }
    });
    function startSession(){
      term.innerHTML += "\n";
      createPrompt();
      document.getElementById("input").focus();
    }
    function createPrompt(){
      const line = document.createElement("div");
      line.innerHTML = "┌──(swaw㉿hostname)-[~/directory]<br>└─> <span class='input-line'><input id='input' type='text'></span>";
      term.appendChild(line);
      document.getElementById("input").addEventListener("keydown", onEnter);
    }
    function onEnter(e){
      if(e.key==="Enter"){
        let txt=e.target.value;
        const prev= e.target.parentElement.parentElement;
        prev.innerHTML = prev.innerHTML + txt;
        e.target.remove();
        errDiv.textContent="";
        createPrompt();
        scrollToBottom();
      }
    }
    function scrollToBottom(){
      window.scrollTo(0, document.body.scrollHeight);
    }
  </script>
</body>
</html>
